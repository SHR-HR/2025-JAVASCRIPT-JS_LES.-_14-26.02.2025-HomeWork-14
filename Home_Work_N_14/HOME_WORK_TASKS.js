// ========================================================================================================
// –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ.
// ========================================================================================================

// ========================================================================================================
// –ö—É—Ä—Å:    –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ JavaScript. 
// –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:  –û—Å–Ω–æ–≤—ã  JavaScript. 
// ========================================================================================================

// ========================================================================================================
// –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ14 : –†–∞–±–æ—Ç–∞ —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –æ –±—ä–µ–∫—Ç–∞–º–∏ JavaScript.
// ========================================================================================================

// ========================================================================================================
// –†–µ—à–∏—Ç–µ –¥–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫.
// ========================================================================================================

// 1. 
// –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –º–æ–¥–µ–ª—å, –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞, —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å),
// –∏ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–∏–º –æ–±—ä–µ–∫—Ç–æ–º.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –Ω–∞ —ç–∫—Ä–∞–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ–º–æ–±–∏–ª–µ.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.
// ========================================================================================================

// 2. 
// –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç, —Ö—Ä–∞–Ω—è—â–∏–π –≤ —Å–µ–±–µ –æ—Ç–¥–µ–ª—å–Ω–æ —á–∏—Å–ª–∏—Ç–µ–ª—å –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –¥—Ä–æ–±–∏,
// –∏ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–∏–º –æ–±—ä–µ–∫—Ç–æ–º.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è —Å–ª–æ–∂–µ–Ω–∏—è 2-—Ö –æ–±—ä–µ–∫—Ç–æ–≤-–¥—Ä–æ–±–µ–π.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Ç–∞–Ω–∏—è 2-—Ö –æ–±—ä–µ–∫—Ç–æ–≤-–¥—Ä–æ–±–µ–π.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è —É–º–Ω–æ–∂–µ–Ω–∏—è 2-—Ö –æ–±—ä–µ–∫—Ç–æ–≤-–¥—Ä–æ–±–µ–π.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è –¥–µ–ª–µ–Ω–∏—è 2-—Ö –æ–±—ä–µ–∫—Ç–æ–≤-–¥—Ä–æ–±–µ–π.
// ‚Ä¢ –§—É–Ω–∫—Ü–∏—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞-–¥—Ä–æ–±–∏.
// ========================================================================================================
// ========================================================================================================


// ========================================================================================================
// üîπ –ó–∞–¥–∞–Ω–∏–µ 1: –û–±—ä–µ–∫—Ç "–ê–≤—Ç–æ–º–æ–±–∏–ª—å"
// --------------------------------------------------------------------------------------------------------
// üìå –û–ø–∏—Å–∞–Ω–∏–µ: 
// –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –º–æ–¥–µ–ª—å, –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞, —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å).
// –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã:
//
// 1Ô∏è‚É£ showInfo() - –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ–º–æ–±–∏–ª–µ.
// 2Ô∏è‚É£ calculateTime(distance) - –ø–æ–¥—Å—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–µ–∑–¥–∫–∏ —Å —É—á—ë—Ç–æ–º –æ—Ç–¥—ã—Ö–∞ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞.
// ========================================================================================================

const car = {
    manufacturer: "Toyota",  // üîπ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
    model: "Camry",          // üîπ –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
    year: 2021,              // üîπ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
    speed: 80,               // üîπ –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å (–∫–º/—á)


    // ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ–º–æ–±–∏–ª–µ
    showInfo() {
        return `üöó –ê–≤—Ç–æ–º–æ–±–∏–ª—å: ${this.manufacturer} ${this.model} <br>
                üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: ${this.year} <br>
                ‚è© –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å: ${this.speed} –∫–º/—á`;
    },


    // ‚úÖ –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–µ–∑–¥–∫–∏ —Å —É—á—ë—Ç–æ–º –æ—Ç–¥—ã—Ö–∞ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
    calculateTime(distance) {
        let travelTime = distance / this.speed; // üìå –í—Ä–µ–º—è –≤ –ø—É—Ç–∏ –±–µ–∑ –æ—Ç–¥—ã—Ö–∞
        let restTime = Math.floor(travelTime / 4); // üìå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤ (–∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞)
        let totalTime = travelTime + restTime; // üìå –ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è —Å —É—á—ë—Ç–æ–º –æ—Ç–¥—ã—Ö–∞
        return `‚è≥ –í—Ä–µ–º—è –≤ –ø—É—Ç–∏: ~${totalTime.toFixed(1)} —á–∞—Å–æ–≤ (–≤–∫–ª—é—á–∞—è –æ—Ç–¥—ã—Ö)`;
    }
};


// ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ–º–æ–±–∏–ª–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
function displayCarInfo() {
    document.getElementById("carInfo").innerHTML = car.showInfo();
}


// ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–µ–∑–¥–∫–∏ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–≤–æ–¥–∞)
function calculateTravelTime() {
    let distance = document.getElementById("distance").value;

    // üîπ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–≤–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —á–∏—Å–ª–∞
    if (!distance || isNaN(distance) || distance <= 0) {
        document.getElementById("travelTime").innerHTML = "‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ!";
        return;
    }

    // üîπ –í—ã–≤–æ–¥–∏–º —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–µ–∑–¥–∫–∏
    document.getElementById("travelTime").innerHTML = car.calculateTime(distance);
}


// ========================================================================================================
// üîπ –ó–∞–¥–∞–Ω–∏–µ 2: –û–±—ä–µ–∫—Ç "–î—Ä–æ–±—å" –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º
// --------------------------------------------------------------------------------------------------------
// üìå –û–ø–∏—Å–∞–Ω–∏–µ:
// –°–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å Fraction –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥—Ä–æ–±–∏. 
// –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã:
//
// 1Ô∏è‚É£ add() - —Å–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
// 2Ô∏è‚É£ subtract() - –≤—ã—á–∏—Ç–∞–Ω–∏–µ –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
// 3Ô∏è‚É£ multiply() - —É–º–Ω–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
// 4Ô∏è‚É£ divide() - –¥–µ–ª–µ–Ω–∏–µ –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
// 5Ô∏è‚É£ simplify() - —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥—Ä–æ–±–∏
// ========================================================================================================


// ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ –æ–±—â–µ–≥–æ –¥–µ–ª–∏—Ç–µ–ª—è (–ù–û–î)
const gcd = (a, b) => (b === 0 ? a : gcd(b, a % b)); // üìå –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º –ï–≤–∫–ª–∏–¥–∞


// ‚úÖ –ö–ª–∞—Å—Å "–î—Ä–æ–±—å"
class Fraction {
    constructor(numerator, denominator) {
        if (denominator === 0) { // ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0
            throw new Error("‚ùå –û—à–∏–±–∫–∞: –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0!");
        }
        this.numerator = numerator;    // üîπ –ß–∏—Å–ª–∏—Ç–µ–ª—å
        this.denominator = denominator; // üîπ –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å
    }


    // ‚úÖ –ú–µ—Ç–æ–¥ —Å–ª–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
    add(fraction) {
        let newNumerator = this.numerator * fraction.denominator + fraction.numerator * this.denominator;
        let newDenominator = this.denominator * fraction.denominator;
        return new Fraction(newNumerator, newDenominator).simplify(); // üìå –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—É—é –¥—Ä–æ–±—å
    }


    // ‚úÖ –ú–µ—Ç–æ–¥ –≤—ã—á–∏—Ç–∞–Ω–∏—è –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
    subtract(fraction) {
        let newNumerator = this.numerator * fraction.denominator - fraction.numerator * this.denominator;
        let newDenominator = this.denominator * fraction.denominator;
        return new Fraction(newNumerator, newDenominator).simplify();
    }


    // ‚úÖ –ú–µ—Ç–æ–¥ —É–º–Ω–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
    multiply(fraction) {
        let newNumerator = this.numerator * fraction.numerator;
        let newDenominator = this.denominator * fraction.denominator;
        return new Fraction(newNumerator, newDenominator).simplify();
    }


    // ‚úÖ –ú–µ—Ç–æ–¥ –¥–µ–ª–µ–Ω–∏—è –¥–≤—É—Ö –¥—Ä–æ–±–µ–π
    divide(fraction) {
        if (fraction.numerator === 0) { // ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0
            throw new Error("‚ùå –û—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0 –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!");
        }
        let newNumerator = this.numerator * fraction.denominator;
        let newDenominator = this.denominator * fraction.numerator;
        return new Fraction(newNumerator, newDenominator).simplify();
    }


    // ‚úÖ –ú–µ—Ç–æ–¥ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥—Ä–æ–±–∏
    simplify() {
        let divisor = gcd(this.numerator, this.denominator);
        return new Fraction(this.numerator / divisor, this.denominator / divisor);
    }


    // ‚úÖ –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥—Ä–æ–±–∏ –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
    toString() {
        return `${this.numerator}/${this.denominator}`;
    }
}


// ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥—Ä–æ–±—è–º–∏
function performOperation(operation) {
    let num1 = parseInt(document.getElementById("num1").value);
    let den1 = parseInt(document.getElementById("den1").value);
    let num2 = parseInt(document.getElementById("num2").value);
    let den2 = parseInt(document.getElementById("den2").value);


    // ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞
    if (!num1 || !den1 || !num2 || !den2 || den1 === 0 || den2 === 0) {
        document.getElementById("fractionResult").innerHTML = "‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!";
        return;
    }

    let fraction1 = new Fraction(num1, den1);
    let fraction2 = new Fraction(num2, den2);
    let result;


    // üìå –í—ã–±–∏—Ä–∞–µ–º –Ω—É–∂–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
    switch (operation) {
        case 'add': result = fraction1.add(fraction2); break;
        case 'subtract': result = fraction1.subtract(fraction2); break;
        case 'multiply': result = fraction1.multiply(fraction2); break;
        case 'divide': result = fraction1.divide(fraction2); break;
    }


    // üìå –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    document.getElementById("fractionResult").innerHTML = `üìå –†–µ–∑—É–ª—å—Ç–∞—Ç: ${result.toString()}`;
}


// ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥—Ä–æ–±–∏
function simplifyFraction() {
    let num1 = parseInt(document.getElementById("num1").value);
    let den1 = parseInt(document.getElementById("den1").value);


    // ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞
    if (!num1 || !den1 || den1 === 0) {
        document.getElementById("fractionResult").innerHTML = "‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!";
        return;
    }

    let fraction = new Fraction(num1, den1).simplify();
    document.getElementById("fractionResult").innerHTML = `üîΩ –°–æ–∫—Ä–∞—â—ë–Ω–Ω–∞—è –¥—Ä–æ–±—å: ${fraction.toString()}`;
}


// ========================================================================================================
// –ö–æ–Ω–µ—Ü –∫–æ–¥–∞. –í—Å—ë –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–æ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏. üöÄ
// ========================================================================================================